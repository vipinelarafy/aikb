'use client'; import { useState } from 'react'; import { useRouter } from 'next/navigation';
export default function CustomerLoginPage(){ const [username,setUsername]=useState(''); const [password,setPassword]=useState(''); const [err,setErr]=useState<string|null>(null); const router=useRouter(); async function onSubmit(e:React.FormEvent){ e.preventDefault(); setErr(null); const r=await fetch('/api/auth/login',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({role:'customer',username,password})}); if(!r.ok){setErr('Login failed'); return;} router.push('/kb'); } return(<div className='card'><h1>Customer Login</h1><form onSubmit={onSubmit} className='space-y-2'><input className='input' placeholder='Username' value={username} onChange={e=>setUsername(e.target.value)} /><input type='password' className='input' placeholder='Password' value={password} onChange={e=>setPassword(e.target.value)} />{err && <div style={{color:'crimson'}}>{err}</div>}<button className='btn' type='submit'>Login</button></form></div>);} 
